# AbstractVoice
> Modular Python voice I/O around AI apps (Piper TTS + faster-whisper STT by default). Optional voice cloning: F5-TTS + Chroma.

Start from `README.md` (human entry point) and treat `docs/public_api.md` as the supported integrator contract.

## Start here
- [README](README.md) - install + smoke tests
- [Public API (Integrator Contract)](docs/public_api.md) - stable surface area
- [Getting started (dev + local testing)](docs/getting_started.md) - venv, pytest, REPL

## Key design decisions
- [ADR 0001 (out-of-box local assistant)](docs/adr/0001-local_assistant_out_of_box.md)
- [ADR 0002 (barge-in + stop phrase + optional AEC)](docs/adr/0002_barge_in_interruption.md)
- [ADR 0003 (cloning reference_text auto-fallback)](docs/adr/0003_cloning_reference_text_fallback.md)
- [ADR 0004 (streaming + cancellation for cloned TTS)](docs/adr/0004_streaming_and_cancellation_for_cloned_tts.md)

## Core code (orientation)
- [VoiceManager fa√ßade](abstractvoice/voice_manager.py)
- [VoiceManager implementation](abstractvoice/vm/manager.py)
- [TTS Piper adapter](abstractvoice/adapters/tts_piper.py)
- [STT faster-whisper adapter](abstractvoice/adapters/stt_faster_whisper.py)
- [Mic/VAD/STT loop](abstractvoice/recognition.py)
- [Stop phrase helper (no heavy deps)](abstractvoice/stop_phrase.py)

## Voice cloning (optional; heavy)
- [VoiceCloner + engine dispatch](abstractvoice/cloning/manager.py)
- [F5-TTS engine](abstractvoice/cloning/engine_f5.py)
- [Chroma engine](abstractvoice/cloning/engine_chroma.py)
- [Store + reference bundles](abstractvoice/cloning/store.py)

Offline-first: the REPL will not download weights implicitly. Prefetch explicitly:
```bash
python -m abstractvoice download --stt small
python -m abstractvoice download --piper en
python -m abstractvoice download --openf5
python -m abstractvoice download --chroma
```

## Tests
- [tests/](tests/) - run `pytest -q`

## Optional
- [Backlog](docs/backlog/)
- [Architecture (internal)](docs/architecture.md)
- [Voice cloning investigation](docs/voice_cloning_2026.md)
